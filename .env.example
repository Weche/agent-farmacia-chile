# Environment Configuration Template
# Copy this to .env and fill in your actual values

# Application Settings
APP_NAME="Farmacias de Turno + Vadem√©cum (MVP v2)"
ENV="dev"
MINSAL_API_BASE="https://midas.minsal.cl/farmacia_v2/WS"
HTTP_TIMEOUT="8.0"
VADEMECUM_PATH="./data/vademecum_clean.parquet"

# Database Auto-Update Settings
# AUTO_UPDATE_DB_HOURS: Maximum age in hours before auto-updating database (default: 1)
# Set to 0 to disable auto-updates, or higher values for less frequent updates
AUTO_UPDATE_DB_HOURS="1"

# Redis Configuration (Required)
REDIS_URL="redis://your_redis_url_here"

# Cache TTL Settings (seconds)
CACHE_TTL_CRITICAL="300"      # 5 minutes - turno pharmacies, open status
CACHE_TTL_HIGH="1800"         # 30 minutes - search results, stats  
CACHE_TTL_MEDIUM="21600"      # 6 hours - commune lists
CACHE_TTL_LOW="86400"         # 24 hours - static data

# Cache Invalidation Settings
AUTO_INVALIDATE_ON_DB_CHANGE="true"
CHECK_MINSAL_API_UPDATES="true"
CACHE_HEALTH_CHECK_INTERVAL="60"

# AI Agent Configuration (Required)
OPENAI_API_KEY="your_openai_api_key_here"
AGENT_MODEL="gpt-3.5-turbo"
AGENT_TEMPERATURE="0.1"
AGENT_MAX_TOKENS="500"
AGENT_SAFETY_MODE="strict"

# Langfuse Observability (Required)
LANGFUSE_PUBLIC_KEY="your_langfuse_public_key_here"
LANGFUSE_SECRET_KEY="your_langfuse_secret_key_here"
LANGFUSE_HOST="https://cloud.langfuse.com"
LANGFUSE_ENABLED="true"

# Session Management
SESSION_EXPIRY_HOURS="24"
MAX_CONVERSATION_LENGTH="50"
SESSION_CLEANUP_INTERVAL="3600"

# Fallback Settings
FALLBACK_TO_SQLITE="true"
SERVE_STALE_ON_ERROR="true"
MAX_STALE_AGE_SECONDS="3600"
